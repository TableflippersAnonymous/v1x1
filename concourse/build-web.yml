---
platform: linux

image_resource:
  type: docker-image
  source:
    repository: node
    tag: "8"

inputs:
- name: v1x1-source

outputs:
- name: v1x1-web-target
  path: v1x1-target

caches:
- path: v1x1-source/v1x1-web/node_modules

run:
  path: sh
  args:
  - -exc
  - |
    ( cd v1x1-source/v1x1-web && npm install && npm run build )
    cp -rvf v1x1-source/v1x1-web/dist/. v1x1-target/